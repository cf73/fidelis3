{"version":3,"file":"ProductCategories-CE8t3ztP.js","sources":["../../src/pages/ProductCategories.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport { getProductCategories, getProductsWithCategories, getImageUrl } from '../lib/supabase';\nimport { ProductCategory, Product } from '../lib/supabase';\nimport { Section, Container, Flex, H1, BodyLarge, CategoryCard } from '../components/ui';\n\ninterface CategoryWithHero extends ProductCategory {\n  heroImage?: string;\n  productCount?: number;\n}\n\nexport const ProductCategories: React.FC = () => {\n  const [categories, setCategories] = useState<CategoryWithHero[]>([]);\n  const [loading, setLoading] = useState(true);\n  const location = useLocation();\n\n  useEffect(() => {\n    const loadCategories = async () => {\n      try {\n        const [categoriesData, productsData] = await Promise.all([\n          getProductCategories(),\n          getProductsWithCategories(),\n        ]);\n\n        // Enhance categories with hero images and product counts\n        const enhancedCategories = categoriesData.map(category => {\n          const categoryProducts = productsData.filter(product => \n            product.categories?.id === category.id\n          );\n          \n          // Get the first product with a hero image for this category\n          const heroProduct = categoryProducts.find(product => \n            product.product_hero_image\n          );\n\n          return {\n            ...category,\n            heroImage: heroProduct?.product_hero_image,\n            productCount: categoryProducts.length\n          };\n        });\n\n        setCategories(enhancedCategories);\n      } catch (error) {\n        console.error('Error loading categories:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadCategories();\n  }, []);\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-[#fffcf9] flex items-center justify-center\">\n        <Container>\n          <div className=\"text-center\">\n            <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-stone-600 mx-auto\"></div>\n            <p className=\"mt-4 text-stone-600\">Loading categories...</p>\n          </div>\n        </Container>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-[#fffcf9]\">\n      {/* Hero Section */}\n      <Section variant=\"hero\" background=\"white\">\n        <Container>\n          <Flex direction=\"col\" align=\"center\" className=\"text-center\">\n            <H1 className=\"mb-6\">Product Categories</H1>\n          </Flex>\n        </Container>\n      </Section>\n\n      {/* Categories Grid - refined layout */}\n      <Section variant=\"default\" background=\"custom\" customBackground=\"bg-[#fffcf9]\">\n        <Container>\n\n\n          <div className=\"grid gap-x-6 gap-y-10 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4\">\n            {categories.map((category) => (\n              <Link\n                key={category.id}\n                to={`/products/list?category=${category.id}`}\n                className=\"block h-full\"\n              >\n                <CategoryCard category={category} className=\"h-full\" />\n              </Link>\n            ))}\n          </div>\n\n          {/* View All Products Link */}\n          <div className=\"mt-16 text-center\">\n            <Link\n              to=\"/products/list\"\n              className=\"inline-flex items-center px-8 py-4 bg-stone-800 hover:bg-stone-700 text-white font-medium rounded-xl transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-stone-500 shadow-sm hover:shadow-md\"\n            >\n              <svg className=\"w-6 h-6 mr-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 6h16M4 10h16M4 14h16M4 18h16\" />\n              </svg>\n              View All Products\n            </Link>\n          </div>\n        </Container>\n      </Section>\n    </div>\n  );\n}; "],"names":["ProductCategories","categories","setCategories","useState","loading","setLoading","useLocation","useEffect","categoriesData","productsData","getProductCategories","getProductsWithCategories","enhancedCategories","category","categoryProducts","product","heroProduct","error","jsx","Container","jsxs","Section","Flex","H1","Link","CategoryCard"],"mappings":"8GAWO,MAAMA,EAA8B,IAAM,CAC/C,KAAM,CAACC,EAAYC,CAAa,EAAIC,EAAAA,SAA6B,CAAA,CAAE,EAC7D,CAACC,EAASC,CAAU,EAAIF,EAAAA,SAAS,EAAI,EAwC3C,OAvCiBG,EAAA,EAEjBC,EAAAA,UAAU,IAAM,EACS,SAAY,CACjC,GAAI,CACF,KAAM,CAACC,EAAgBC,CAAY,EAAI,MAAM,QAAQ,IAAI,CACvDC,EAAA,EACAC,EAAA,CAA0B,CAC3B,EAGKC,EAAqBJ,EAAe,IAAIK,GAAY,CACxD,MAAMC,EAAmBL,EAAa,OAAOM,GAC3CA,EAAQ,YAAY,KAAOF,EAAS,EAAA,EAIhCG,EAAcF,EAAiB,QACnCC,EAAQ,kBAAA,EAGV,MAAO,CACL,GAAGF,EACH,UAAWG,GAAa,mBACxB,aAAcF,EAAiB,MAAA,CAEnC,CAAC,EAEDZ,EAAcU,CAAkB,CAClC,OAASK,EAAO,CACd,QAAQ,MAAM,4BAA6BA,CAAK,CAClD,QAAA,CACEZ,EAAW,EAAK,CAClB,CACF,GAEA,CACF,EAAG,CAAA,CAAE,EAEDD,EAEAc,EAAAA,IAAC,OAAI,UAAU,6DACb,eAACC,EAAA,CACC,SAAAC,EAAAA,KAAC,MAAA,CAAI,UAAU,cACb,SAAA,CAAAF,EAAAA,IAAC,MAAA,CAAI,UAAU,yEAAA,CAA0E,EACzFA,EAAAA,IAAC,IAAA,CAAE,UAAU,sBAAsB,SAAA,uBAAA,CAAqB,CAAA,CAAA,CAC1D,EACF,EACF,EAKFE,EAAAA,KAAC,MAAA,CAAI,UAAU,4BAEb,SAAA,CAAAF,EAAAA,IAACG,EAAA,CAAQ,QAAQ,OAAO,WAAW,QACjC,SAAAH,EAAAA,IAACC,EAAA,CACC,SAAAD,EAAAA,IAACI,EAAA,CAAK,UAAU,MAAM,MAAM,SAAS,UAAU,cAC7C,SAAAJ,EAAAA,IAACK,EAAA,CAAG,UAAU,OAAO,SAAA,oBAAA,CAAkB,CAAA,CACzC,CAAA,CACF,CAAA,CACF,EAGAL,EAAAA,IAACG,GAAQ,QAAQ,UAAU,WAAW,SAAS,iBAAiB,eAC9D,SAAAD,EAAAA,KAACD,EAAA,CAGC,SAAA,CAAAD,MAAC,OAAI,UAAU,qEACZ,SAAAjB,EAAW,IAAKY,GACfK,EAAAA,IAACM,EAAA,CAEC,GAAI,2BAA2BX,EAAS,EAAE,GAC1C,UAAU,eAEV,SAAAK,EAAAA,IAACO,EAAA,CAAa,SAAAZ,EAAoB,UAAU,QAAA,CAAS,CAAA,EAJhDA,EAAS,EAAA,CAMjB,EACH,EAGAK,EAAAA,IAAC,MAAA,CAAI,UAAU,oBACb,SAAAE,EAAAA,KAACI,EAAA,CACC,GAAG,iBACH,UAAU,sOAEV,SAAA,CAAAN,EAAAA,IAAC,OAAI,UAAU,eAAe,KAAK,OAAO,OAAO,eAAe,QAAQ,YACtE,eAAC,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,EAAG,EAAE,kCAAkC,CAAA,CACzG,EAAM,mBAAA,CAAA,CAAA,CAER,CACF,CAAA,CAAA,CACF,CAAA,CACF,CAAA,EACF,CAEJ"}