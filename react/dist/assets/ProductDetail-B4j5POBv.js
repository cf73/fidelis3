import{r as o,j as e,A as J,m as I,h as V,i as E,b as Y,g as Z,f as G,k as X,l as K,d as Q,e as ee,L as D,n as se,P as O,o as F,p as W,q as te}from"./index-sDBu8FS9.js";import{F as ae}from"./MagnifyingGlassIcon-VJfLnXua.js";import{g as H}from"./musicalLoadingMessages-DPXwYOsx.js";function re({title:s,titleId:l,...i},t){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":l},i),s?o.createElement("title",{id:l},s):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 16.5V9.75m0 0 3 3m-3-3-3 3M6.75 19.5a4.5 4.5 0 0 1-1.41-8.775 5.25 5.25 0 0 1 10.233-2.33 3 3 0 0 1 3.758 3.848A3.752 3.752 0 0 1 18 19.5H6.75Z"}))}const ne=o.forwardRef(re);function oe({title:s,titleId:l,...i},t){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":l},i),s?o.createElement("title",{id:l},s):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const U=o.forwardRef(oe);function ie({title:s,titleId:l,...i},t){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":l},i),s?o.createElement("title",{id:l},s):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const T=o.forwardRef(ie),le=({isOpen:s,onClose:l,title:i,children:t,context:j="default"})=>(o.useEffect(()=>(s?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[s]),e.jsx(J,{children:s&&e.jsxs(e.Fragment,{children:[e.jsx(I.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-40",onClick:l}),e.jsxs(I.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed inset-y-0 right-0 w-full max-w-2xl bg-white shadow-2xl z-50 flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-stone-200 bg-gradient-to-r from-stone-50 to-white",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-stone-800 rounded-xl flex items-center justify-center",children:e.jsx(U,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-stone-900",children:i}),e.jsxs("p",{className:"text-sm text-stone-600 capitalize",children:[j," management"]})]})]}),e.jsx("button",{onClick:l,className:"p-2 hover:bg-stone-100 rounded-lg transition-colors duration-200",children:e.jsx(T,{className:"w-6 h-6 text-stone-600"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:e.jsx("div",{className:"p-6",children:t})})]})]})})),ce=({onClick:s,label:l="Edit",context:i="default",className:t=""})=>e.jsxs("button",{onClick:s,className:`
        inline-flex items-center space-x-2 px-4 py-2 
        bg-stone-800 text-white rounded-xl 
        hover:bg-stone-900 transition-all duration-200 
        shadow-sm hover:shadow-md
        text-sm font-medium
        ${t}
      `,children:[e.jsx(U,{className:"w-4 h-4"}),e.jsx("span",{children:l})]}),de=({onUpload:s,onRemove:l,currentImage:i,multiple:t=!1,className:j="",folder:h="general"})=>{const[c,x]=o.useState(!1),[y,L]=o.useState(!1),[N,k]=o.useState(i?[i]:[]),a=o.useRef(null),d=o.useCallback(g=>{g.preventDefault(),x(!0)},[]),v=o.useCallback(g=>{g.preventDefault(),x(!1)},[]),p=o.useCallback(async g=>{g.preventDefault(),x(!1);const b=Array.from(g.dataTransfer.files);await n(b)},[]),C=o.useCallback(async g=>{const b=Array.from(g.target.files||[]);await n(b)},[]),n=async g=>{const b=g.filter(r=>r.type.startsWith("image/"));if(b.length!==0){L(!0);try{const r=b.map(async f=>await V(f,h)),u=await Promise.all(r);t?(k(f=>[...f,...u]),u.forEach(f=>s(f))):(k(u),s(u[0]))}catch(r){console.error("Error uploading images:",r)}finally{L(!1)}}},_=g=>{const b=N.filter((r,u)=>u!==g);k(b),l&&b.length===0&&l()};return e.jsxs("div",{className:`space-y-4 ${j}`,children:[N.length>0&&e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:N.map((g,b)=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:E(g),alt:`Uploaded image ${b+1}`,className:"w-full h-32 object-cover rounded-lg border border-stone-200"}),e.jsx("button",{onClick:()=>_(b),className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:e.jsx(T,{className:"w-4 h-4"})})]},b))}),e.jsxs(I.div,{animate:c?{scale:1.02}:{scale:1},className:`
          relative border-2 border-dashed rounded-xl p-8 text-center transition-all duration-200
          ${c?"border-stone-400 bg-stone-50":"border-stone-300 hover:border-stone-400 hover:bg-stone-50"}
        `,onDragOver:d,onDragLeave:v,onDrop:p,children:[e.jsx("input",{ref:a,type:"file",multiple:t,accept:"image/*",onChange:C,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"mx-auto w-12 h-12 bg-stone-100 rounded-full flex items-center justify-center",children:y?e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-stone-600"}):e.jsx(ne,{className:"w-6 h-6 text-stone-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-medium text-stone-900",children:y?"Uploading...":"Drop images here or click to upload"}),e.jsx("p",{className:"text-sm text-stone-600 mt-1",children:t?"Upload multiple images":"Upload a single image"})]})]})]})]})},B=({selectedIds:s,onSelectionChange:l,excludeProductId:i,placeholder:t="Select products...",className:j=""})=>{const[h,c]=o.useState(!1),[x,y]=o.useState(""),[L,N]=o.useState([]),[k,a]=o.useState(!1);o.useEffect(()=>{(async()=>{a(!0);try{const _=await Y();N(_)}catch(_){console.error("Error loading products:",_)}finally{a(!1)}})()},[]);const d=L.filter(n=>{const _=n.title.toLowerCase().includes(x.toLowerCase())||n.manufacturer&&typeof n.manufacturer=="object"&&n.manufacturer.name.toLowerCase().includes(x.toLowerCase()),g=!i||n.id!==i,b=!s.includes(n.id);return _&&g&&b}),v=L.filter(n=>s.includes(n.id)),p=n=>{s.includes(n)||l([...s,n]),y(""),c(!1)},C=n=>{l(s.filter(_=>_!==n))};return e.jsxs("div",{className:`relative ${j}`,children:[v.length>0&&e.jsxs("div",{className:"mb-4 space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700",children:"Selected Products"}),e.jsx("div",{className:"space-y-2",children:v.map(n=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 rounded-lg border border-stone-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[n.product_hero_image&&e.jsx("img",{src:`https://myrdvcihcqphixvunvkv.supabase.co/storage/v1/object/public/images/${n.product_hero_image}`,alt:n.title,className:"w-8 h-8 object-cover rounded"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-stone-900",children:n.title}),e.jsx("p",{className:"text-xs text-stone-600",children:n.manufacturer&&typeof n.manufacturer=="object"?n.manufacturer.name:n.manufacturer})]})]}),e.jsx("button",{onClick:()=>C(n.id),className:"p-1 hover:bg-stone-200 rounded transition-colors duration-200",children:e.jsx(T,{className:"w-4 h-4 text-stone-600"})})]},n.id))})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:x,onChange:n=>y(n.target.value),onFocus:()=>c(!0),placeholder:t,className:"w-full px-4 py-3 pr-10 border border-stone-300 rounded-lg focus:ring-2 focus:ring-stone-500 focus:border-transparent"}),e.jsx(ae,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-stone-400"})]}),h&&e.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-stone-200 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:k?e.jsxs("div",{className:"p-4 text-center text-stone-600",children:[e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-stone-600 mx-auto"}),e.jsx("p",{className:"mt-2",children:"Loading products..."})]}):d.length===0?e.jsx("div",{className:"p-4 text-center text-stone-600",children:x?"No products found":"Start typing to search products"}):e.jsx("div",{className:"py-2",children:d.slice(0,10).map(n=>e.jsxs("button",{onClick:()=>p(n.id),className:"w-full px-4 py-3 text-left hover:bg-stone-50 transition-colors duration-200 flex items-center space-x-3",children:[n.product_hero_image&&e.jsx("img",{src:`https://myrdvcihcqphixvunvkv.supabase.co/storage/v1/object/public/images/${n.product_hero_image}`,alt:n.title,className:"w-8 h-8 object-cover rounded"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-stone-900",children:n.title}),e.jsx("p",{className:"text-xs text-stone-600",children:n.manufacturer&&typeof n.manufacturer=="object"?n.manufacturer.name:n.manufacturer})]})]},n.id))})})]}),h&&e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>c(!1)})]})},me=({product:s,onSave:l,onCancel:i})=>{const[t,j]=o.useState({title:s.title||"",content:s.content||"",specs:s.specs||"",price:s.price||0,show_price:s.show_price??!0,available_for_demo:s.available_for_demo??!0,available_to_buy_online:s.available_to_buy_online??!0,published:s.published??!0,pairs_well_with:s.pairs_well_with||[],also_consider:s.also_consider||[]}),[h,c]=o.useState([]),[x,y]=o.useState([]),[L,N]=o.useState([]),[k,a]=o.useState(!1),[d,v]=o.useState("basic");o.useEffect(()=>{if(s.reivews_set){if(Array.isArray(s.reivews_set))c(s.reivews_set);else if(typeof s.reivews_set=="string")try{const r=JSON.parse(s.reivews_set);c(Array.isArray(r)?r:[])}catch{c([])}}},[s.reivews_set]),o.useEffect(()=>{(async()=>{const[u,f]=await Promise.all([Z(),G()]);y(u),N(f)})()},[]);const p=(r,u)=>{j(f=>({...f,[r]:u}))},C=()=>{const r={excerpt:"",attribution:"",link:"",date_of_review:new Date().toISOString().split("T")[0]};c(u=>[...u,r])},n=(r,u,f)=>{c(M=>M.map((A,R)=>R===r?{...A,[u]:f}:A))},_=r=>{c(u=>u.filter((f,M)=>M!==r))},g=async()=>{a(!0);try{const r={...t,reivews_set:h,pairs_well_with:t.pairs_well_with,also_consider:t.also_consider};await X(s.id,r),l()}catch(r){console.error("Error saving product:",r)}finally{a(!1)}},b=[{id:"basic",label:"Basic Info",icon:"📋"},{id:"description",label:"Description",icon:"📝"},{id:"specs",label:"Specifications",icon:"⚙️"},{id:"reviews",label:"Reviews",icon:"⭐"},{id:"relationships",label:"Relationships",icon:"🔗"}];return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"border-b border-stone-200",children:e.jsx("nav",{className:"flex space-x-8",children:b.map(r=>e.jsxs("button",{onClick:()=>v(r.id),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors duration-200 ${d===r.id?"border-stone-900 text-stone-900":"border-transparent text-stone-500 hover:text-stone-700 hover:border-stone-300"}`,children:[e.jsx("span",{children:r.icon}),e.jsx("span",{children:r.label})]},r.id))})}),d==="basic"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"Product Title"}),e.jsx("input",{type:"text",value:t.title,onChange:r=>p("title",r.target.value),className:"w-full border border-stone-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-stone-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"Product Image"}),e.jsx(de,{onUpload:r=>p("product_hero_image",r),currentImage:s.product_hero_image,folder:"products"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"Price"}),e.jsx("input",{type:"number",value:t.price,onChange:r=>p("price",parseInt(r.target.value)||0),className:"w-full border border-stone-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-stone-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"Category"}),e.jsx("div",{className:"text-sm text-stone-600 py-3",children:s.categories?.name||"No category assigned"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("label",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",checked:t.show_price,onChange:r=>p("show_price",r.target.checked),className:"rounded border-stone-300 text-stone-600 focus:ring-stone-500"}),e.jsx("span",{className:"text-sm font-medium text-stone-700",children:"Show Price"})]}),e.jsxs("label",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",checked:t.available_for_demo,onChange:r=>p("available_for_demo",r.target.checked),className:"rounded border-stone-300 text-stone-600 focus:ring-stone-500"}),e.jsx("span",{className:"text-sm font-medium text-stone-700",children:"Available for Demo"})]}),e.jsxs("label",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",checked:t.available_to_buy_online,onChange:r=>p("available_to_buy_online",r.target.checked),className:"rounded border-stone-300 text-stone-600 focus:ring-stone-500"}),e.jsx("span",{className:"text-sm font-medium text-stone-700",children:"Available Online"})]})]}),e.jsxs("label",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",checked:t.published,onChange:r=>p("published",r.target.checked),className:"rounded border-stone-300 text-stone-600 focus:ring-stone-500"}),e.jsx("span",{className:"text-sm font-medium text-stone-700",children:"Published"})]})]}),d==="description"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"Product Description"}),e.jsx("textarea",{value:t.content,onChange:r=>p("content",r.target.value),rows:12,className:"w-full border border-stone-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-stone-500 focus:border-transparent",placeholder:"Enter the product description. You can use HTML tags for formatting."}),e.jsx("p",{className:"text-sm text-stone-500 mt-2",children:"You can use HTML tags like <p>, <h2>, <h3>, <strong>, <em>, <ul>, <li> for formatting."})]}),d==="specs"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"Technical Specifications"}),e.jsx("textarea",{value:t.specs,onChange:r=>p("specs",r.target.value),rows:12,className:"w-full border border-stone-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-stone-500 focus:border-transparent",placeholder:"Enter the technical specifications. You can use HTML tags for formatting."}),e.jsx("p",{className:"text-sm text-stone-500 mt-2",children:"You can use HTML tags like <p>, <h2>, <h3>, <strong>, <em>, <ul>, <li> for formatting."})]}),d==="reviews"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-medium text-stone-900",children:"Product Reviews"}),e.jsx("button",{onClick:C,className:"inline-flex items-center px-4 py-2 bg-stone-800 text-white rounded-lg hover:bg-stone-900 transition-colors duration-200 text-sm font-medium",children:e.jsx("span",{children:"Add Review"})})]}),h.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-stone-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-2xl",children:"⭐"})}),e.jsx("h3",{className:"text-xl font-medium text-stone-900 mb-2",children:"No Reviews Yet"}),e.jsx("p",{className:"text-stone-600",children:"Add the first review for this product."})]}):e.jsx("div",{className:"space-y-6",children:h.map((r,u)=>e.jsxs("div",{className:"border border-stone-200 rounded-xl p-6 bg-stone-50",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("h4",{className:"text-lg font-medium text-stone-900",children:["Review ",u+1]}),e.jsx("button",{onClick:()=>_(u),className:"text-red-600 hover:text-red-800 text-sm font-medium",children:"Remove"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"Attribution"}),e.jsx("input",{type:"text",value:r.attribution||"",onChange:f=>n(u,"attribution",f.target.value),className:"w-full border border-stone-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-stone-500 focus:border-transparent",placeholder:"Reviewer name or publication"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"Date"}),e.jsx("input",{type:"date",value:r.date_of_review||"",onChange:f=>n(u,"date_of_review",f.target.value),className:"w-full border border-stone-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-stone-500 focus:border-transparent"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"Review Link (Optional)"}),e.jsx("input",{type:"url",value:r.link||"",onChange:f=>n(u,"link",f.target.value),className:"w-full border border-stone-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-stone-500 focus:border-transparent",placeholder:"https://..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"Review Excerpt"}),e.jsx("textarea",{value:r.excerpt||"",onChange:f=>n(u,"excerpt",f.target.value),rows:6,className:"w-full border border-stone-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-stone-500 focus:border-transparent",placeholder:"Enter the review excerpt. You can use HTML tags for formatting."}),e.jsx("p",{className:"text-sm text-stone-500 mt-2",children:"You can use HTML tags like <p>, <strong>, <em> for formatting."})]})]},u))})]}),d==="relationships"&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h3",{className:"text-2xl font-light text-stone-900 mb-2",children:"Product Relationships"}),e.jsx("p",{className:"text-stone-600",children:"Manage which products this item pairs well with and alternatives to consider."})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-stone-50 rounded-2xl p-6 border border-stone-200",children:[e.jsx("h4",{className:"text-lg font-medium text-stone-900 mb-4",children:"Pairs Well With"}),e.jsx("p",{className:"text-sm text-stone-600 mb-4",children:"Choose products from other categories that work well with this item."}),e.jsx(B,{selectedIds:t.pairs_well_with,onSelectionChange:r=>p("pairs_well_with",r),excludeProductId:s.id,placeholder:"Search for products to pair with..."})]}),e.jsxs("div",{className:"bg-stone-50 rounded-2xl p-6 border border-stone-200",children:[e.jsx("h4",{className:"text-lg font-medium text-stone-900 mb-4",children:"Also Consider"}),e.jsx("p",{className:"text-sm text-stone-600 mb-4",children:"Choose alternative products in the same category and price range."}),e.jsx(B,{selectedIds:t.also_consider,onSelectionChange:r=>p("also_consider",r),excludeProductId:s.id,placeholder:"Search for alternative products..."})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-stone-200",children:[e.jsx("button",{onClick:i,className:"px-6 py-3 border border-stone-300 text-stone-700 rounded-lg hover:bg-stone-100 transition-colors duration-200 font-medium",children:"Cancel"}),e.jsx("button",{onClick:g,disabled:k,className:"px-6 py-3 bg-stone-800 text-white rounded-lg hover:bg-stone-900 transition-colors duration-200 font-medium disabled:opacity-50",children:k?"Saving...":"Save Changes"})]})]})},xe=({isOpen:s,onClose:l,onConfirm:i,title:t,message:j,loading:h=!1})=>s?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-6 w-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:t})})]}),e.jsx("div",{className:"mb-6",children:e.jsx("p",{className:"text-sm text-gray-500",children:j})}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:l,disabled:h,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),e.jsx("button",{type:"button",onClick:i,disabled:h,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Deleting...":"Delete"})]})]})}):null,ue=s=>/<[^>]+>/g.test(s),$=s=>s?ue(s)?s.replace(/<ul[^>]*>/gi,"").replace(/<\/ul>/gi,`
`).replace(/<li[^>]*>/gi,"• ").replace(/<\/li>/gi,`
`).replace(/<h[1-6][^>]*>/gi,`
## `).replace(/<\/h[1-6]>/gi,`

`).replace(/<p[^>]*>/gi,"").replace(/<\/p>/gi,`

`).replace(/<br[^>]*\/?>/gi,`
`).replace(/<[^>]*>/g,"").replace(/&nbsp;/g," ").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/\n\s*\n\s*\n/g,`

`).replace(/^\s+|\s+$/g,"").replace(/[ \t]+/g," "):s:"",w=s=>{if(!s)return"";if(typeof s=="string")return s;if(Array.isArray(s))return s.map(l=>{const i=w(l);if(l&&l.type)switch(l.type){case"paragraph":return i?i+`

`:"";case"heading":return i?`## ${i}

`:"";case"bullet_list":case"bulletList":return i?i+`

`:"";case"list_item":return i?`• ${i}
`:"";case"hardBreak":case"hard_break":return`
`;default:return i}return i}).join("").replace(/\n\n$/,"");if(typeof s=="object"){if(s.type==="paragraph"&&s.content||s.type==="heading"&&s.content||(s.type==="bullet_list"||s.type==="bulletList")&&s.content||s.type==="list_item"&&s.content)return w(s.content);if(s.type==="hardBreak"||s.type==="hard_break")return`
`;if(s.text)return s.text;if(s.content)return w(s.content);for(const l in s)if(s[l]&&typeof s[l]=="object"){const i=w(s[l]);if(i)return i}}return""},he=s=>{const i=(c=>{if(!c)return"";if(typeof c=="string")try{const x=JSON.parse(c);if(Array.isArray(x))return w(x)}catch{return $(c)}return w(c)})(s.description),j=(c=>{if(!c)return"";if(typeof c=="string")try{const x=JSON.parse(c);if(Array.isArray(x))return w(x)}catch{return $(c)}return w(c)})(s.specs);let h=[];try{if(s.reivews_set){const c=JSON.parse(s.reivews_set);Array.isArray(c)&&(h=c.map(x=>({excerpt:w(x.excerpt),attribution:x.attribution,date_of_review:x.date_of_review,link:x.link})).filter(x=>x.excerpt||x.attribution))}}catch(c){console.warn("Error parsing reviews:",c)}return!!(i||j||h.length>0)},pe=({product:s})=>{const l=a=>{if(!a)return"";if(typeof a=="string")try{const d=JSON.parse(a);if(Array.isArray(d))return w(d)}catch{return $(a)}return w(a)},i=a=>{if(!a)return"";if(typeof a=="string")try{const d=JSON.parse(a);if(Array.isArray(d))return w(d)}catch{return $(a)}return w(a)},t=a=>{if(!a)return[];if(typeof a=="string")try{const d=JSON.parse(a);return t(d)}catch{return[]}return Array.isArray(a)?a.map(d=>{let v="";return d.excerpt&&Array.isArray(d.excerpt)&&d.excerpt.forEach(p=>{p.type==="paragraph"&&p.content&&Array.isArray(p.content)&&p.content.forEach(C=>{C.type==="text"&&C.text&&(v+=C.text+" ")})}),{...d,excerpt:v.trim()||d.excerpt||""}}):[]},j=t(s.reivews_set),h=l(s.description),c=i(s.specs),y=[{id:"description",label:"Description",content:h,hasContent:!!h,icon:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})},{id:"specs",label:"Specifications",content:c,hasContent:!!c,icon:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})})},{id:"reviews",label:"Reviews",content:j,hasContent:j.length>0,icon:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})}].filter(a=>a.hasContent),L=()=>y.length===0?"description":y[0].id,[N,k]=o.useState(L());return o.useEffect(()=>{k(L())},[s.id]),y.length===0?null:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"md:hidden",children:[e.jsx("div",{className:"flex overflow-x-auto mb-8 border-b border-stone-200 -mx-4 px-4",children:y.map(a=>{const d=N===a.id;return e.jsxs("button",{onClick:()=>k(a.id),className:`flex-shrink-0 flex items-center space-x-2 px-4 py-3 relative transition-all duration-300 ${d?"text-stone-900":"text-stone-600"}`,children:[e.jsx("div",{className:`transition-all duration-300 ${d?"text-stone-700":"text-stone-400"}`,children:a.icon}),e.jsx("span",{className:`text-sm font-medium whitespace-nowrap ${d?"text-stone-900":"text-stone-600"}`,children:a.label}),d&&e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-stone-600"})]},a.id)})}),e.jsxs("div",{className:"pb-8",children:[N==="description"&&e.jsx("div",{children:e.jsx("div",{className:"prose prose-lg prose-stone max-w-none",children:e.jsx("div",{className:"text-base leading-relaxed text-stone-700 space-y-6",children:e.jsx("div",{className:"whitespace-pre-wrap",children:h})})})}),N==="specs"&&e.jsx("div",{children:e.jsx("div",{className:"prose prose-lg prose-stone max-w-none",children:e.jsx("div",{className:"text-base leading-relaxed text-stone-700 space-y-4",children:e.jsx("div",{className:"whitespace-pre-wrap",children:c})})})}),N==="reviews"&&e.jsx("div",{children:e.jsx("div",{className:"space-y-12",children:j.map((a,d)=>e.jsxs("div",{className:"relative",children:[a.excerpt&&e.jsxs("div",{className:"bg-warm-white rounded-2xl p-8 shadow-sm border border-stone-100 mb-8 relative transform hover:shadow-md transition-shadow duration-300",children:[e.jsx("div",{className:"absolute top-0 left-0 w-1 h-16 bg-stone-300 rounded-l-2xl"}),e.jsx("blockquote",{className:"text-lg font-normal text-stone-700 leading-relaxed mb-6",children:a.excerpt}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:space-x-6 space-y-2 sm:space-y-0 text-stone-600 pt-4 border-t border-stone-100",children:[a.attribution&&e.jsx("cite",{className:"text-base font-semibold not-italic text-stone-800 tracking-wide",children:a.attribution}),a.date_of_review&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-1 h-1 bg-stone-400 rounded-full hidden sm:block"}),e.jsx("span",{className:"text-stone-500 text-sm font-medium tracking-wider uppercase",children:new Date(a.date_of_review).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})})]}),a.link&&e.jsxs("a",{href:a.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center space-x-2 px-4 py-2 bg-stone-800 text-white rounded-full hover:bg-stone-900 transition-colors duration-200 text-sm font-light",children:[e.jsx("span",{children:"Read Full Review"}),e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]})]}),!a.excerpt&&e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:space-x-6 space-y-2 sm:space-y-0 text-stone-600",children:[a.attribution&&e.jsx("cite",{className:"text-base font-semibold not-italic text-stone-800 tracking-wide",children:a.attribution}),a.date_of_review&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-1 h-1 bg-stone-400 rounded-full hidden sm:block"}),e.jsx("span",{className:"text-stone-500 text-sm font-medium tracking-wider uppercase",children:new Date(a.date_of_review).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})})]}),a.link&&e.jsxs("a",{href:a.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center space-x-2 px-4 py-2 bg-stone-800 text-white rounded-full hover:bg-stone-900 transition-colors duration-200 text-sm font-light",children:[e.jsx("span",{children:"Read Full Review"}),e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]})]},d))})})]})]}),e.jsx("div",{className:"hidden md:block",children:e.jsxs("div",{className:"flex min-h-[400px]",children:[e.jsx("div",{className:"w-48 flex flex-col mr-16",children:y.map((a,d)=>{const v=N===a.id;return e.jsxs("button",{onClick:()=>k(a.id),className:`py-6 text-left transition-all duration-300 relative group cursor-pointer ${v?"text-stone-900":"text-stone-600 hover:text-stone-800"}`,children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`transition-all duration-300 transform ${v?"text-stone-700":"text-stone-400 group-hover:text-stone-600 group-hover:scale-110"}`,children:a.icon}),e.jsx("span",{className:`text-base font-medium tracking-wide transition-all duration-300 ${v?"text-stone-900":"text-stone-600 group-hover:text-stone-800 group-hover:tracking-wider"}`,children:a.label})]}),v&&e.jsx("div",{className:"absolute bottom-2 left-0 right-0 h-px bg-stone-400 transition-all duration-300"}),!v&&e.jsx("div",{className:"absolute bottom-2 left-0 right-0 h-px bg-stone-300 transition-all duration-300 transform scale-x-0 group-hover:scale-x-75 origin-left"})]},a.id)})}),e.jsx("div",{className:"relative mr-16",children:e.jsx("div",{className:"absolute inset-y-0 left-0 w-px bg-stone-300"})}),e.jsxs("div",{className:"flex-1",children:[N==="description"&&e.jsx("div",{children:e.jsx("div",{className:"prose prose-lg prose-stone max-w-none",children:e.jsx("div",{className:"text-base leading-relaxed text-stone-700 space-y-6",children:e.jsx("div",{className:"whitespace-pre-wrap",children:h})})})}),N==="specs"&&e.jsx("div",{children:e.jsx("div",{className:"prose prose-lg prose-stone max-w-none",children:e.jsx("div",{className:"text-base leading-relaxed text-stone-700 space-y-4",children:e.jsx("div",{className:"whitespace-pre-wrap",children:c})})})}),N==="reviews"&&e.jsx("div",{children:e.jsx("div",{className:"space-y-12",children:j.map((a,d)=>e.jsxs("div",{className:"relative",children:[a.excerpt&&e.jsxs("div",{className:"bg-warm-white rounded-2xl p-8 shadow-sm border border-stone-100 mb-6 relative transform hover:shadow-md transition-shadow duration-300",children:[e.jsx("div",{className:"absolute top-0 left-0 w-1 h-16 bg-stone-300 rounded-l-2xl"}),e.jsx("blockquote",{className:"text-lg font-normal text-stone-700 leading-relaxed mb-6",children:a.excerpt}),e.jsxs("div",{className:"flex items-center space-x-6 text-stone-600 pt-4 border-t border-stone-100",children:[a.attribution&&e.jsx("cite",{className:"text-base font-semibold not-italic text-stone-800 tracking-wide",children:a.attribution}),a.date_of_review&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-1 h-1 bg-stone-400 rounded-full"}),e.jsx("span",{className:"text-stone-500 text-sm font-medium tracking-wider uppercase",children:new Date(a.date_of_review).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})})]}),a.link&&e.jsxs("a",{href:a.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center space-x-2 px-4 py-2 bg-stone-800 text-white rounded-full hover:bg-stone-900 transition-colors duration-200 text-sm font-light",children:[e.jsx("span",{children:"Read Full Review"}),e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]})]}),!a.excerpt&&e.jsxs("div",{className:"flex items-center space-x-6 text-stone-600",children:[a.attribution&&e.jsx("cite",{className:"text-base font-semibold not-italic text-stone-800 tracking-wide",children:a.attribution}),a.date_of_review&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-1 h-1 bg-stone-400 rounded-full"}),e.jsx("span",{className:"text-stone-500 text-sm font-medium tracking-wider uppercase",children:new Date(a.date_of_review).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})})]}),a.link&&e.jsxs("a",{href:a.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center space-x-2 px-4 py-2 bg-stone-800 text-white rounded-full hover:bg-stone-900 transition-colors duration-200 text-sm font-light",children:[e.jsx("span",{children:"Read Full Review"}),e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]})]},d))})})]})]})})]})},je=()=>{const{slug:s}=K(),l=Q(),{user:i}=ee(),[t,j]=o.useState(null),[h,c]=o.useState([]),[x,y]=o.useState([]),[L,N]=o.useState(!0),[k,a]=o.useState(!1),[d,v]=o.useState(!1),[p,C]=o.useState(!1),[n,_]=o.useState(!1),[g,b]=o.useState(null),[r,u]=o.useState(!1);o.useEffect(()=>{(async()=>{if(s)try{const S=await F(s);if(j(S),S){if(a(!0),S.pairs_well_with&&S.pairs_well_with.length>0){const P=await W(S.pairs_well_with);c(P)}if(S.also_consider&&S.also_consider.length>0){const P=await W(S.also_consider);y(P)}a(!1)}}catch(S){console.error("Error loading product:",S)}finally{N(!1)}})()},[s]);const f=async()=>{if(s){const m=await F(s);j(m)}},M=async()=>{if(t){_(!0);try{const{error:m}=await te(t.id);if(m){console.error("Error deleting product:",m);return}l("/products")}catch(m){console.error("Error deleting product:",m)}finally{_(!1),C(!1)}}},A=m=>{b(m),u(!0)},R=()=>{u(!1),b(null)},q=m=>m?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(m):null,z=()=>t?.available_for_demo?e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(D,{to:`/contact?product=${encodeURIComponent(t.title)}&manufacturer=${encodeURIComponent(t.manufacturer?.name||"")}&demo=home`,className:"bg-white border-2 border-stone-900 text-stone-900 py-4 px-6 font-medium tracking-wide hover:bg-stone-900 hover:text-white transition-all duration-300 text-center shadow-sm hover:shadow-md",children:e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Home Demo"]})}),e.jsx(D,{to:`/contact?product=${encodeURIComponent(t.title)}&manufacturer=${encodeURIComponent(t.manufacturer?.name||"")}&demo=store`,className:"bg-stone-900 text-white py-4 px-6 font-medium tracking-wide hover:bg-stone-800 transition-all duration-300 text-center shadow-sm hover:shadow-md",children:e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-4m-5 0H9m0 0H5m0 0h2M7 7h10M7 11h10M7 15h10"})}),"Store Demo"]})})]}):t?.local_only?e.jsx("button",{className:"w-full bg-stone-600 text-white py-3 px-6 rounded-lg hover:bg-stone-700 focus:outline-none focus:ring-2 focus:ring-stone-500 focus:ring-offset-2 font-medium",children:"VIEW IN SHOWROOM"}):e.jsx("button",{className:"w-full bg-accent-600 text-white py-3 px-6 rounded-lg hover:bg-accent-700 focus:outline-none focus:ring-2 focus:ring-accent-500 focus:ring-offset-2 font-medium",children:"CONTACT FOR PRICING"});return L?e.jsx("div",{className:"min-h-screen bg-warm-white py-12",children:e.jsxs("div",{className:"container-custom text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-accent-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:H()})]})}):t?e.jsxs("div",{className:"min-h-screen bg-warm-white",children:[e.jsx(se,{title:t.title,description:`${t.title} by ${t.manufacturer?.name||"Premium Audio"}. ${t.brief_description||"High-end audio equipment available at Fidelis Audio, New Hampshire."}`,canonical:`/products/${t.slug}`}),e.jsx("div",{className:"relative bg-warm-beige border-b border-stone-200 -mt-4",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-16 lg:py-24",children:[i&&e.jsxs("div",{className:"absolute top-8 right-8 flex space-x-3",children:[e.jsx(ce,{onClick:()=>v(!0),label:"Edit Product",context:"product"}),e.jsx("button",{onClick:()=>C(!0),className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-all duration-200 text-sm font-medium",children:"Delete Product"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"relative group",children:t.product_hero_image?e.jsx("div",{className:"relative",children:e.jsx("img",{src:E(t.product_hero_image),alt:t.title,className:"w-full h-auto max-h-[600px] object-contain mix-blend-multiply"})}):e.jsx("div",{className:"w-full h-[500px] bg-gradient-to-br from-stone-100 to-stone-200 rounded-2xl flex items-center justify-center border-2 border-dashed border-stone-300",children:e.jsxs("div",{className:"text-center",children:[e.jsx("svg",{className:"h-16 w-16 text-stone-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsx("p",{className:"text-stone-500 font-medium",children:"No image available"})]})})}),t.product_gallery&&t.product_gallery.length>0&&e.jsx("div",{className:"grid grid-cols-4 gap-4",children:t.product_gallery.map((m,S)=>e.jsxs("div",{className:"relative group cursor-pointer overflow-hidden rounded-xl bg-warm-white shadow-md",onClick:()=>A(m),children:[e.jsx("img",{src:E(m),alt:`${t.title} - Image ${S+1}`,className:"w-full h-24 object-cover transition-transform duration-300 group-hover:scale-110"}),e.jsx("div",{className:"absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity duration-200"})]},S))})]}),e.jsxs("div",{className:"space-y-10",children:[e.jsxs("div",{className:"flex flex-wrap gap-4",children:[t.categories&&e.jsx(D,{to:`/products/list?category=${t.categories.id}`,className:"inline-flex items-center px-6 py-3 bg-stone-900 text-white text-sm font-medium tracking-wide uppercase hover:bg-stone-800 transition-all duration-300 shadow-lg hover:shadow-xl",children:t.categories.name}),t.manufacturer&&e.jsx(D,{to:`/manufacturers/${t.manufacturer.slug}`,className:"inline-flex items-center px-6 py-3 border-2 border-stone-900 text-stone-900 text-sm font-medium tracking-wide uppercase hover:bg-stone-900 hover:text-white transition-all duration-300",children:t.manufacturer.name})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-6xl lg:text-7xl xl:text-8xl font-extralight text-stone-900 leading-none tracking-tighter mb-6",children:t.title}),t.manufacturer&&e.jsxs("p",{className:"text-2xl lg:text-3xl text-stone-600 font-light tracking-wide",children:["by"," ",e.jsx(D,{to:`/manufacturers/${t.manufacturer.slug}`,className:"hover:text-stone-900 transition-colors duration-300 border-b border-stone-300 hover:border-stone-900",children:t.manufacturer.name})]})]}),t.show_price&&t.price&&e.jsx("div",{className:"text-4xl font-light text-stone-900",children:q(t.price)}),e.jsx("div",{className:"pt-6 space-y-4",children:z()}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.featured&&e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-yellow-100 text-yellow-800",children:"Featured"}),!t.published&&e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-red-100 text-red-800",children:"Unpublished"})]})]})]})]})}),e.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[t.quote&&e.jsxs("div",{className:"mb-32 flex flex-col items-center",children:[e.jsx("div",{className:"w-px h-32 bg-stone-300 mb-16"}),e.jsxs("div",{className:"max-w-4xl mx-auto px-8 text-center",children:[e.jsx("blockquote",{children:e.jsx("div",{className:"text-2xl lg:text-3xl xl:text-4xl font-light text-stone-900 leading-[1.4] tracking-wide mb-12",children:t.quote})}),t.quote_attribution&&e.jsx("div",{className:"mt-16",children:e.jsxs("div",{className:"text-sm text-stone-500 font-light tracking-[0.3em] uppercase",children:["— ",t.quote_attribution]})})]}),e.jsx("div",{className:"w-px h-32 bg-stone-300 mt-16"})]}),he(t)&&e.jsx("div",{className:"mb-32",children:e.jsx(pe,{product:t})})]}),h.length>0&&e.jsx("div",{className:"bg-warm-beige py-12 pb-20",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-12",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-grow border-t border-stone-300"}),e.jsx("div",{className:"mx-6 bg-warm-beige px-4",children:e.jsxs("span",{className:"text-lg font-medium text-stone-600 tracking-wide uppercase",children:["Good synergies with ",t.manufacturer?.name,"'s ",e.jsx("span",{className:"font-bold",children:t.title})]})}),e.jsx("div",{className:"flex-grow border-t border-stone-300"})]})}),k?e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-stone-600 mx-auto mb-4"}),e.jsx("p",{className:"text-stone-600",children:H()})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-x-6 gap-y-10",children:h.map(m=>e.jsx(D,{to:`/products/${m.slug}`,className:"block h-full",children:e.jsx(O,{product:{id:m.id,title:m.title,price:m.price,manufacturer:m.manufacturer,product_hero_image:m.product_hero_image,categories:m.categories,featured:m.featured},showCategory:!1})},m.id))})]})}),x.length>0&&e.jsx("div",{className:"bg-warm-beige py-12 pb-20",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-12",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-grow border-t border-stone-300"}),e.jsx("div",{className:"mx-6 bg-warm-beige px-4",children:e.jsx("span",{className:"text-lg font-medium text-stone-600 tracking-wide uppercase",children:"Also consider"})}),e.jsx("div",{className:"flex-grow border-t border-stone-300"})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-x-6 gap-y-10",children:x.map(m=>e.jsx(D,{to:`/products/${m.slug}`,className:"block h-full",children:e.jsx(O,{product:{id:m.id,title:m.title,price:m.price,manufacturer:m.manufacturer,product_hero_image:m.product_hero_image,categories:m.categories,featured:m.featured},showCategory:!1})},m.id))})]})}),r&&g&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",onClick:R,children:e.jsxs("div",{className:"relative max-w-4xl max-h-full p-4",children:[e.jsx("img",{src:E(g),alt:t.title,className:"max-w-full max-h-full object-contain"}),e.jsx("button",{onClick:R,className:"absolute top-4 right-4 text-white hover:text-gray-300",children:e.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),e.jsx(le,{isOpen:d,onClose:()=>v(!1),title:`Edit ${t?.title||"Product"}`,context:"product",children:t&&e.jsx(me,{product:t,onSave:f,onCancel:()=>v(!1)})}),e.jsx(xe,{isOpen:p,onClose:()=>C(!1),onConfirm:M,title:"Delete Product",message:`Are you sure you want to delete "${t.title}"? This action cannot be undone.`,loading:n})]}):e.jsx("div",{className:"min-h-screen bg-warm-white py-12",children:e.jsxs("div",{className:"container-custom text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Product Not Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"The product you're looking for doesn't exist."}),e.jsx(D,{to:"/products",className:"btn-primary",children:"Back to Products"})]})})};export{je as ProductDetail};
//# sourceMappingURL=ProductDetail-B4j5POBv.js.map
