{"version":3,"file":"NewsDetail-DRYMdzF3.js","sources":["../../src/pages/NewsDetail.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams, Link } from 'react-router-dom';\r\nimport { motion } from 'framer-motion';\r\nimport { getNewsBySlug, getAdjacentNews, getImageUrl, processArticleMentions } from '../lib/supabase';\r\nimport { News } from '../lib/supabase';\r\nimport { getRandomMusicalMessage } from '../utils/musicalLoadingMessages';\r\n\r\nconst NewsDetail: React.FC = () => {\r\n  const { slug } = useParams<{ slug: string }>();\r\n  const [article, setArticle] = useState<News | null>(null);\r\n  const [adjacentArticles, setAdjacentArticles] = useState<{ previous: News | null; next: News | null }>({ previous: null, next: null });\r\n  const [loading, setLoading] = useState(true);\r\n  const [selectedImage, setSelectedImage] = useState<string | null>(null);\r\n  const [isImageModalOpen, setIsImageModalOpen] = useState(false);\r\n  const [processedContent, setProcessedContent] = useState<string>('');\r\n  const [mentions, setMentions] = useState<{\r\n    manufacturers: Array<{ name: string; slug: string; count: number }>;\r\n    products: Array<{ title: string; slug: string; count: number }>;\r\n  }>({ manufacturers: [], products: [] });\r\n\r\n  useEffect(() => {\r\n    const fetchArticle = async () => {\r\n      if (!slug) return;\r\n      \r\n      try {\r\n        const data = await getNewsBySlug(slug);\r\n        setArticle(data);\r\n        \r\n        // Fetch adjacent articles for navigation\r\n        if (data) {\r\n          const adjacent = await getAdjacentNews(data.id);\r\n          setAdjacentArticles(adjacent);\r\n          \r\n          // Process content for mentions\r\n          const contentToProcess = data.main_content || data.content || '';\r\n          if (contentToProcess) {\r\n            const { processedContent, mentions } = await processArticleMentions(contentToProcess);\r\n            setProcessedContent(processedContent);\r\n            setMentions(mentions);\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.error('Error loading article:', error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchArticle();\r\n  }, [slug]);\r\n\r\n  const openImageModal = (imagePath: string) => {\r\n    setSelectedImage(imagePath);\r\n    setIsImageModalOpen(true);\r\n  };\r\n\r\n  const closeImageModal = () => {\r\n    setIsImageModalOpen(false);\r\n    setSelectedImage(null);\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-white py-12\">\r\n        <div className=\"container-custom text-center\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-stone-600 mx-auto\"></div>\r\n          <p className=\"mt-4 text-stone-600\">{getRandomMusicalMessage()}</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!article) {\r\n    return (\r\n      <div className=\"min-h-screen bg-white py-12\">\r\n        <div className=\"container-custom text-center\">\r\n          <h1 className=\"text-2xl font-bold text-stone-900 mb-4\">Article Not Found</h1>\r\n          <p className=\"text-stone-600 mb-6\">The news article you're looking for doesn't exist.</p>\r\n          <Link to=\"/news\" className=\"inline-flex items-center text-stone-600 hover:text-stone-800 font-medium transition-colors duration-200\">\r\n            <svg className=\"w-4 h-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\r\n            </svg>\r\n            Back to News\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0 }}\r\n      animate={{ opacity: 1 }}\r\n      transition={{ duration: 0.5 }}\r\n      className=\"min-h-screen bg-warm-white\"\r\n    >\r\n      {/* Hero Section - Full Width */}\r\n      {article.image && (\r\n        <section className=\"relative w-full h-[60vh] min-h-[400px] overflow-hidden -mt-4\">\r\n          <motion.img\r\n            initial={{ scale: 1.1, opacity: 0 }}\r\n            animate={{ scale: 1, opacity: 1 }}\r\n            transition={{ duration: 0.8, ease: \"easeOut\" }}\r\n            src={getImageUrl(article.image)}\r\n            alt={article.title}\r\n            className=\"w-full h-full object-cover cursor-pointer transition-transform duration-500 hover:scale-105\"\r\n            onClick={() => openImageModal(article.image!)}\r\n          />\r\n          {/* Enhanced Gradient Overlay for Better Text Readability */}\r\n          <div className=\"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-black/20\" />\r\n          \r\n          {/* Additional Text Shadow Overlay for Maximum Contrast */}\r\n          <div className=\"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent\" />\r\n          \r\n          {/* Article Info Overlay */}\r\n          <div className=\"absolute bottom-0 left-0 right-0 p-8 md:p-12\">\r\n            <div className=\"container-custom\">\r\n              <motion.div\r\n                initial={{ opacity: 0, y: 20 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                transition={{ duration: 0.6, delay: 0.3 }}\r\n                className=\"max-w-4xl\"\r\n              >\r\n                {/* Date */}\r\n                {article.news_date && (\r\n                  <div className=\"flex items-center text-white/90 mb-4 drop-shadow-lg\">\r\n                    <svg className=\"w-4 h-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\r\n                    </svg>\r\n                    {new Date(article.news_date).toLocaleDateString('en-US', {\r\n                      year: 'numeric',\r\n                      month: 'long',\r\n                      day: 'numeric'\r\n                    })}\r\n                  </div>\r\n                )}\r\n\r\n                {/* Title */}\r\n                <h1 className=\"text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-6 leading-tight drop-shadow-lg\">\r\n                  {article.title}\r\n                </h1>\r\n\r\n                {/* Summary */}\r\n                {(article.summary || article.brief_description) && (\r\n                  <p className=\"text-xl md:text-2xl text-white/95 max-w-3xl leading-relaxed drop-shadow-lg\">\r\n                    {article.summary || article.brief_description}\r\n                  </p>\r\n                )}\r\n              </motion.div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n      )}\r\n\r\n      {/* Article Content */}\r\n      <section className=\"pt-8 pb-12 md:pt-12 md:pb-16\">\r\n        <div className=\"container-custom\">\r\n          <div className=\"max-w-6xl mx-auto\">\r\n            <motion.div\r\n              initial={{ opacity: 0, y: 20 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              transition={{ duration: 0.6, delay: 0.4 }}\r\n              className=\"prose prose-lg prose-stone max-w-none\"\r\n            >\r\n              {/* Main Content */}\r\n              {processedContent && (\r\n                <div dangerouslySetInnerHTML={{ __html: processedContent }} />\r\n              )}\r\n\r\n              {/* Fallback to content if main_content is not available */}\r\n              {!processedContent && article.content && (\r\n                <div dangerouslySetInnerHTML={{ __html: article.content }} />\r\n              )}\r\n            </motion.div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* Mentions Section */}\r\n      {(mentions.manufacturers.length > 0 || mentions.products.length > 0) && (\r\n        <section className=\"py-8 bg-warm-white border-t border-stone-200\">\r\n          <div className=\"container-custom\">\r\n            <div className=\"max-w-6xl mx-auto\">\r\n              <motion.div\r\n                initial={{ opacity: 0, y: 20 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                transition={{ duration: 0.6, delay: 0.5 }}\r\n              >\r\n                <h2 className=\"text-2xl font-bold text-stone-900 mb-6\">Related Content</h2>\r\n                \r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\r\n                  {/* Manufacturers */}\r\n                  {mentions.manufacturers.length > 0 && (\r\n                    <div>\r\n                      <h3 className=\"text-lg font-semibold text-stone-800 mb-4 flex items-center\">\r\n                        <svg className=\"w-5 h-5 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4\" />\r\n                        </svg>\r\n                        Manufacturers Mentioned\r\n                      </h3>\r\n                      <div className=\"space-y-2\">\r\n                        {mentions.manufacturers.map((manufacturer, index) => (\r\n                          <Link\r\n                            key={index}\r\n                            to={`/manufacturers/${manufacturer.slug}`}\r\n                            className=\"block p-3 bg-white rounded-lg shadow-sm hover:shadow-md transition-all duration-200 border border-stone-200 hover:border-stone-300\"\r\n                          >\r\n                            <div className=\"flex items-center justify-between\">\r\n                              <span className=\"font-medium text-stone-900\">{manufacturer.name}</span>\r\n                              <span className=\"text-sm text-stone-500 bg-stone-100 px-2 py-1 rounded\">\r\n                                {manufacturer.count} mention{manufacturer.count !== 1 ? 's' : ''}\r\n                              </span>\r\n                            </div>\r\n                          </Link>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* Products */}\r\n                  {mentions.products.length > 0 && (\r\n                    <div>\r\n                      <h3 className=\"text-lg font-semibold text-stone-800 mb-4 flex items-center\">\r\n                        <svg className=\"w-5 h-5 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\" />\r\n                        </svg>\r\n                        Products Mentioned\r\n                      </h3>\r\n                      <div className=\"space-y-2\">\r\n                        {mentions.products.map((product, index) => (\r\n                          <Link\r\n                            key={index}\r\n                            to={`/products/${product.slug}`}\r\n                            className=\"block p-3 bg-white rounded-lg shadow-sm hover:shadow-md transition-all duration-200 border border-stone-200 hover:border-stone-300\"\r\n                          >\r\n                            <div className=\"flex items-center justify-between\">\r\n                              <span className=\"font-medium text-stone-900\">{product.title}</span>\r\n                              <span className=\"text-sm text-stone-500 bg-stone-100 px-2 py-1 rounded\">\r\n                                {product.count} mention{product.count !== 1 ? 's' : ''}\r\n                              </span>\r\n                            </div>\r\n                          </Link>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </motion.div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n      )}\r\n\r\n      {/* Article Navigation */}\r\n      <section className=\"py-12 bg-warm-white border-t border-stone-200\">\r\n        <div className=\"container-custom\">\r\n          <div className=\"max-w-6xl mx-auto\">\r\n            <motion.div\r\n              initial={{ opacity: 0, y: 20 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              transition={{ duration: 0.6, delay: 0.6 }}\r\n              className=\"grid grid-cols-1 md:grid-cols-2 gap-8\"\r\n            >\r\n              {/* Previous Article */}\r\n              {adjacentArticles.previous && (\r\n                <Link\r\n                  to={`/news/${adjacentArticles.previous.slug || adjacentArticles.previous.id}`}\r\n                  className=\"group block bg-white rounded-2xl shadow-sm hover:shadow-lg transition-all duration-300 overflow-hidden\"\r\n                >\r\n                  <div className=\"flex flex-col md:flex-row h-full\">\r\n                    {/* Image */}\r\n                    <div className=\"md:w-1/3 relative overflow-hidden\">\r\n                      {adjacentArticles.previous.image ? (\r\n                        <img\r\n                          src={getImageUrl(adjacentArticles.previous.image)}\r\n                          alt={adjacentArticles.previous.title}\r\n                          className=\"w-full h-48 md:h-full object-cover transition-transform duration-300 group-hover:scale-105\"\r\n                        />\r\n                      ) : (\r\n                        <div className=\"w-full h-48 md:h-full bg-gradient-to-br from-stone-100 to-stone-200 flex items-center justify-center\">\r\n                          <svg className=\"h-12 w-12 text-stone-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z\" />\r\n                          </svg>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                    \r\n                    {/* Content */}\r\n                    <div className=\"md:w-2/3 p-6 flex flex-col justify-between\">\r\n                      <div>\r\n                        <div className=\"flex items-center text-sm text-stone-500 mb-3\">\r\n                          <svg className=\"w-4 h-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\r\n                          </svg>\r\n                          Previous Article\r\n                        </div>\r\n                        \r\n                        {adjacentArticles.previous.news_date && (\r\n                          <div className=\"text-sm text-stone-500 mb-2\">\r\n                            {new Date(adjacentArticles.previous.news_date).toLocaleDateString('en-US', {\r\n                              year: 'numeric',\r\n                              month: 'long',\r\n                              day: 'numeric'\r\n                            })}\r\n                          </div>\r\n                        )}\r\n                        \r\n                        <h3 className=\"text-xl font-bold text-stone-900 mb-3 line-clamp-2 group-hover:text-stone-700 transition-colors\">\r\n                          {adjacentArticles.previous.title}\r\n                        </h3>\r\n                        \r\n                        {(adjacentArticles.previous.summary || adjacentArticles.previous.brief_description) && (\r\n                          <p className=\"text-stone-600 line-clamp-3\">\r\n                            {adjacentArticles.previous.summary || adjacentArticles.previous.brief_description}\r\n                          </p>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </Link>\r\n              )}\r\n\r\n              {/* Next Article */}\r\n              {adjacentArticles.next && (\r\n                <Link\r\n                  to={`/news/${adjacentArticles.next.slug || adjacentArticles.next.id}`}\r\n                  className=\"group block bg-white rounded-2xl shadow-sm hover:shadow-lg transition-all duration-300 overflow-hidden\"\r\n                >\r\n                  <div className=\"flex flex-col md:flex-row h-full\">\r\n                    {/* Image */}\r\n                    <div className=\"md:w-1/3 relative overflow-hidden\">\r\n                      {adjacentArticles.next.image ? (\r\n                        <img\r\n                          src={getImageUrl(adjacentArticles.next.image)}\r\n                          alt={adjacentArticles.next.title}\r\n                          className=\"w-full h-48 md:h-full object-cover transition-transform duration-300 group-hover:scale-105\"\r\n                        />\r\n                      ) : (\r\n                        <div className=\"w-full h-48 md:h-full bg-gradient-to-br from-stone-100 to-stone-200 flex items-center justify-center\">\r\n                          <svg className=\"h-12 w-12 text-stone-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z\" />\r\n                          </svg>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                    \r\n                    {/* Content */}\r\n                    <div className=\"md:w-2/3 p-6 flex flex-col justify-between\">\r\n                      <div>\r\n                        <div className=\"flex items-center text-sm text-stone-500 mb-3\">\r\n                          Next Article\r\n                          <svg className=\"w-4 h-4 ml-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\r\n                          </svg>\r\n                        </div>\r\n                        \r\n                        {adjacentArticles.next.news_date && (\r\n                          <div className=\"text-sm text-stone-500 mb-2\">\r\n                            {new Date(adjacentArticles.next.news_date).toLocaleDateString('en-US', {\r\n                              year: 'numeric',\r\n                              month: 'long',\r\n                              day: 'numeric'\r\n                            })}\r\n                          </div>\r\n                        )}\r\n                        \r\n                        <h3 className=\"text-xl font-bold text-stone-900 mb-3 line-clamp-2 group-hover:text-stone-700 transition-colors\">\r\n                          {adjacentArticles.next.title}\r\n                        </h3>\r\n                        \r\n                        {(adjacentArticles.next.summary || adjacentArticles.next.brief_description) && (\r\n                          <p className=\"text-stone-600 line-clamp-3\">\r\n                            {adjacentArticles.next.summary || adjacentArticles.next.brief_description}\r\n                          </p>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </Link>\r\n              )}\r\n            </motion.div>\r\n\r\n            {/* Back to News Button */}\r\n            <motion.div\r\n              initial={{ opacity: 0 }}\r\n              animate={{ opacity: 1 }}\r\n              transition={{ duration: 0.6, delay: 0.8 }}\r\n              className=\"mt-12 text-center\"\r\n            >\r\n              <Link\r\n                to=\"/news\"\r\n                className=\"inline-flex items-center text-stone-600 hover:text-stone-800 font-medium transition-colors duration-200\"\r\n              >\r\n                <svg className=\"w-4 h-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\r\n                </svg>\r\n                Back to News\r\n              </Link>\r\n            </motion.div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* Image Modal */}\r\n      {isImageModalOpen && selectedImage && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50\" onClick={closeImageModal}>\r\n          <div className=\"relative max-w-6xl max-h-full p-4\">\r\n            <img\r\n              src={getImageUrl(selectedImage)}\r\n              alt={article.title}\r\n              className=\"max-w-full max-h-full object-contain\"\r\n            />\r\n            <button\r\n              onClick={closeImageModal}\r\n              className=\"absolute top-4 right-4 text-white hover:text-gray-300 transition-colors\"\r\n            >\r\n              <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n              </svg>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </motion.div>\r\n  );\r\n};\r\n\r\nexport { NewsDetail }; "],"names":["NewsDetail","slug","useParams","article","setArticle","useState","adjacentArticles","setAdjacentArticles","loading","setLoading","selectedImage","setSelectedImage","isImageModalOpen","setIsImageModalOpen","processedContent","setProcessedContent","mentions","setMentions","useEffect","data","getNewsBySlug","adjacent","getAdjacentNews","contentToProcess","processArticleMentions","error","openImageModal","imagePath","closeImageModal","jsxs","jsx","motion","getImageUrl","manufacturer","index","Link","product"],"mappings":"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"}