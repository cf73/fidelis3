{"version":3,"file":"Admin-07sZh0bl.js","sources":["../../src/components/ProductForm.tsx","../../src/pages/Admin.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Product, Review, updateProduct, getProductCategories, getManufacturers, ProductCategory, Manufacturer } from '../lib/supabase';\r\nimport { Section, Container, H1, Body, Grid, Button } from './ui';\r\n\r\ninterface ProductFormProps {\r\n  product: Product;\r\n  onSave: () => void;\r\n  onCancel: () => void;\r\n}\r\n\r\nexport const ProductForm: React.FC<ProductFormProps> = ({ product, onSave, onCancel }) => {\r\n  const [formData, setFormData] = useState({\r\n    title: product.title || '',\r\n    content: product.content || '',\r\n    specs: product.specs || '',\r\n    price: product.price || 0,\r\n    show_price: product.show_price ?? true,\r\n    available_for_demo: product.available_for_demo ?? true,\r\n    available_to_buy_online: product.available_to_buy_online ?? true,\r\n    published: product.published ?? true,\r\n    pairs_well_with: product.pairs_well_with || [],\r\n    also_consider: product.also_consider || [],\r\n  });\r\n\r\n  const [reviews, setReviews] = useState<Review[]>([]);\r\n  const [categories, setCategories] = useState<ProductCategory[]>([]);\r\n  const [manufacturers, setManufacturers] = useState<Manufacturer[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [activeTab, setActiveTab] = useState<'basic' | 'description' | 'specs' | 'reviews' | 'relationships'>('basic');\r\n\r\n  // Parse existing reviews\r\n  useEffect(() => {\r\n    if (product.reivews_set) {\r\n      if (Array.isArray(product.reivews_set)) {\r\n        setReviews(product.reivews_set);\r\n      } else if (typeof product.reivews_set === 'string') {\r\n        try {\r\n          const parsed = JSON.parse(product.reivews_set);\r\n          setReviews(Array.isArray(parsed) ? parsed : []);\r\n        } catch {\r\n          setReviews([]);\r\n        }\r\n      }\r\n    }\r\n  }, [product.reivews_set]);\r\n\r\n  // Load categories and manufacturers\r\n  useEffect(() => {\r\n    const loadData = async () => {\r\n      const [categoriesData, manufacturersData] = await Promise.all([\r\n        getProductCategories(),\r\n        getManufacturers()\r\n      ]);\r\n      setCategories(categoriesData);\r\n      setManufacturers(manufacturersData);\r\n    };\r\n    loadData();\r\n  }, []);\r\n\r\n  const handleInputChange = (field: string, value: any) => {\r\n    setFormData(prev => ({ ...prev, [field]: value }));\r\n  };\r\n\r\n  const addReview = () => {\r\n    const newReview: Review = {\r\n      excerpt: '',\r\n      attribution: '',\r\n      link: '',\r\n      date_of_review: new Date().toISOString().split('T')[0]\r\n    };\r\n    setReviews(prev => [...prev, newReview]);\r\n  };\r\n\r\n  const updateReview = (index: number, field: keyof Review, value: string) => {\r\n    setReviews(prev => prev.map((review, i) => \r\n      i === index ? { ...review, [field]: value } : review\r\n    ));\r\n  };\r\n\r\n  const removeReview = (index: number) => {\r\n    setReviews(prev => prev.filter((_, i) => i !== index));\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const updateData = {\r\n        ...formData,\r\n        reivews_set: reviews\r\n      };\r\n      \r\n      await updateProduct(product.id, updateData);\r\n      onSave();\r\n    } catch (error) {\r\n      console.error('Error saving product:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const tabs = [\r\n    { id: 'basic', label: 'Basic Info', icon: 'üìã' },\r\n    { id: 'description', label: 'Description', icon: 'üìù' },\r\n    { id: 'specs', label: 'Specifications', icon: '‚öôÔ∏è' },\r\n    { id: 'reviews', label: 'Reviews', icon: '‚≠ê' },\r\n    { id: 'relationships', label: 'Relationships', icon: 'üîó' }\r\n  ];\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-3xl shadow-sm border border-stone-200 overflow-hidden\">\r\n      {/* Tab Navigation */}\r\n      <div className=\"border-b border-stone-200 bg-gradient-to-r from-stone-50 to-stone-100\">\r\n        <nav className=\"flex\" aria-label=\"Tabs\">\r\n          {tabs.map((tab) => (\r\n          <button\r\n              key={tab.id}\r\n              onClick={() => setActiveTab(tab.id as any)}\r\n              className={`flex-1 flex items-center justify-center space-x-2 py-4 px-4 font-medium text-sm transition-all duration-300 ${\r\n                activeTab === tab.id\r\n                  ? 'text-stone-900 bg-white border-b-2 border-stone-900 shadow-sm'\r\n                  : 'text-stone-600 hover:text-stone-800 hover:bg-stone-50'\r\n              }`}\r\n            >\r\n              <span>{tab.icon}</span>\r\n              <span>{tab.label}</span>\r\n          </button>\r\n          ))}\r\n        </nav>\r\n        </div>\r\n\r\n      {/* Tab Content */}\r\n      <div className=\"p-8 lg:p-12\">\r\n        {activeTab === 'basic' && (\r\n          <div className=\"space-y-6\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-stone-700 mb-2\">Product Title</label>\r\n              <input\r\n                type=\"text\"\r\n                value={formData.title}\r\n                onChange={(e) => handleInputChange('title', e.target.value)}\r\n                className=\"w-full border border-stone-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-stone-500 focus:border-transparent\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-stone-700 mb-2\">Price</label>\r\n                <input\r\n                  type=\"number\"\r\n                  value={formData.price}\r\n                  onChange={(e) => handleInputChange('price', parseInt(e.target.value) || 0)}\r\n                  className=\"w-full border border-stone-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-stone-500 focus:border-transparent\"\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n                <label className=\"block text-sm font-medium text-stone-700 mb-2\">Category</label>\r\n                <div className=\"text-sm text-stone-600 py-3\">\r\n                  {product.categories?.name || 'No category assigned'}\r\n            </div>\r\n          </div>\r\n\r\n            <div>\r\n                <label className=\"block text-sm font-medium text-stone-700 mb-2\">Manufacturer</label>\r\n                <div className=\"text-sm text-stone-600 py-3\">\r\n                  {product.manufacturer?.name || 'No manufacturer assigned'}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n              <label className=\"flex items-center space-x-3\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={formData.show_price}\r\n                  onChange={(e) => handleInputChange('show_price', e.target.checked)}\r\n                  className=\"rounded border-stone-300 text-stone-600 focus:ring-stone-500\"\r\n                />\r\n                <span className=\"text-sm font-medium text-stone-700\">Show Price</span>\r\n              </label>\r\n              \r\n              <label className=\"flex items-center space-x-3\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={formData.available_for_demo}\r\n                  onChange={(e) => handleInputChange('available_for_demo', e.target.checked)}\r\n                  className=\"rounded border-stone-300 text-stone-600 focus:ring-stone-500\"\r\n                />\r\n                <span className=\"text-sm font-medium text-stone-700\">Available for Demo</span>\r\n              </label>\r\n              \r\n              <label className=\"flex items-center space-x-3\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={formData.available_to_buy_online}\r\n                  onChange={(e) => handleInputChange('available_to_buy_online', e.target.checked)}\r\n                  className=\"rounded border-stone-300 text-stone-600 focus:ring-stone-500\"\r\n                />\r\n                <span className=\"text-sm font-medium text-stone-700\">Available Online</span>\r\n              </label>\r\n            </div>\r\n\r\n            <label className=\"flex items-center space-x-3\">\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={formData.published}\r\n                onChange={(e) => handleInputChange('published', e.target.checked)}\r\n                className=\"rounded border-stone-300 text-stone-600 focus:ring-stone-500\"\r\n              />\r\n              <span className=\"text-sm font-medium text-stone-700\">Published</span>\r\n            </label>\r\n          </div>\r\n        )}\r\n\r\n        {activeTab === 'description' && (\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-stone-700 mb-2\">Product Description</label>\r\n            <textarea\r\n              value={formData.content}\r\n              onChange={(e) => handleInputChange('content', e.target.value)}\r\n              rows={12}\r\n              className=\"w-full border border-stone-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-stone-500 focus:border-transparent\"\r\n              placeholder=\"Enter the product description. You can use HTML tags for formatting.\"\r\n            />\r\n            <p className=\"text-sm text-stone-500 mt-2\">\r\n              You can use HTML tags like &lt;p&gt;, &lt;h2&gt;, &lt;h3&gt;, &lt;strong&gt;, &lt;em&gt;, &lt;ul&gt;, &lt;li&gt; for formatting.\r\n            </p>\r\n          </div>\r\n        )}\r\n\r\n        {activeTab === 'specs' && (\r\n            <div>\r\n            <label className=\"block text-sm font-medium text-stone-700 mb-2\">Technical Specifications</label>\r\n            <textarea\r\n              value={formData.specs}\r\n              onChange={(e) => handleInputChange('specs', e.target.value)}\r\n              rows={12}\r\n              className=\"w-full border border-stone-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-stone-500 focus:border-transparent\"\r\n              placeholder=\"Enter the technical specifications. You can use HTML tags for formatting.\"\r\n            />\r\n            <p className=\"text-sm text-stone-500 mt-2\">\r\n              You can use HTML tags like &lt;p&gt;, &lt;h2&gt;, &lt;h3&gt;, &lt;strong&gt;, &lt;em&gt;, &lt;ul&gt;, &lt;li&gt; for formatting.\r\n            </p>\r\n          </div>\r\n        )}\r\n\r\n        {activeTab === 'reviews' && (\r\n          <div className=\"space-y-6\">\r\n            <div className=\"flex justify-between items-center\">\r\n              <h3 className=\"text-lg font-medium text-stone-900\">Product Reviews</h3>\r\n              <button\r\n                onClick={addReview}\r\n                className=\"inline-flex items-center px-4 py-2 bg-stone-800 text-white rounded-lg hover:bg-stone-900 transition-colors duration-200 text-sm font-medium\"\r\n              >\r\n                <span>Add Review</span>\r\n              </button>\r\n            </div>\r\n\r\n            {reviews.length === 0 ? (\r\n              <div className=\"text-center py-12\">\r\n                <div className=\"w-16 h-16 bg-stone-100 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n                  <span className=\"text-2xl\">‚≠ê</span>\r\n                </div>\r\n                <h3 className=\"text-xl font-medium text-stone-900 mb-2\">No Reviews Yet</h3>\r\n                <p className=\"text-stone-600\">Add the first review for this product.</p>\r\n            </div>\r\n            ) : (\r\n              <div className=\"space-y-6\">\r\n                {reviews.map((review, index) => (\r\n                  <div key={index} className=\"border border-stone-200 rounded-xl p-6 bg-stone-50\">\r\n                    <div className=\"flex justify-between items-start mb-4\">\r\n                      <h4 className=\"text-lg font-medium text-stone-900\">Review {index + 1}</h4>\r\n                      <button\r\n                        onClick={() => removeReview(index)}\r\n                        className=\"text-red-600 hover:text-red-800 text-sm font-medium\"\r\n                      >\r\n                        Remove\r\n                      </button>\r\n          </div>\r\n\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\r\n          <div>\r\n                        <label className=\"block text-sm font-medium text-stone-700 mb-2\">Attribution</label>\r\n                        <input\r\n                          type=\"text\"\r\n                          value={review.attribution || ''}\r\n                          onChange={(e) => updateReview(index, 'attribution', e.target.value)}\r\n                          className=\"w-full border border-stone-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-stone-500 focus:border-transparent\"\r\n                          placeholder=\"Reviewer name or publication\"\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n                        <label className=\"block text-sm font-medium text-stone-700 mb-2\">Date</label>\r\n                        <input\r\n                          type=\"date\"\r\n                          value={review.date_of_review || ''}\r\n                          onChange={(e) => updateReview(index, 'date_of_review', e.target.value)}\r\n                          className=\"w-full border border-stone-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-stone-500 focus:border-transparent\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    <div className=\"mb-4\">\r\n                      <label className=\"block text-sm font-medium text-stone-700 mb-2\">Review Link (Optional)</label>\r\n                      <input\r\n                        type=\"url\"\r\n                        value={review.link || ''}\r\n                        onChange={(e) => updateReview(index, 'link', e.target.value)}\r\n                        className=\"w-full border border-stone-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-stone-500 focus:border-transparent\"\r\n                        placeholder=\"https://...\"\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n                      <label className=\"block text-sm font-medium text-stone-700 mb-2\">Review Excerpt</label>\r\n                      <textarea\r\n                        value={review.excerpt || ''}\r\n                        onChange={(e) => updateReview(index, 'excerpt', e.target.value)}\r\n                        rows={6}\r\n                        className=\"w-full border border-stone-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-stone-500 focus:border-transparent\"\r\n                        placeholder=\"Enter the review excerpt. You can use HTML tags for formatting.\"\r\n                      />\r\n                      <p className=\"text-sm text-stone-500 mt-2\">\r\n                        You can use HTML tags like &lt;p&gt;, &lt;strong&gt;, &lt;em&gt; for formatting.\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {activeTab === 'relationships' && (\r\n          <div className=\"space-y-8\">\r\n            <div className=\"text-center mb-8\">\r\n              <h3 className=\"text-2xl font-light text-stone-900 mb-2\">Product Relationships</h3>\r\n              <p className=\"text-stone-600\">Manage which products this item pairs well with and alternatives to consider.</p>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\r\n              {/* Pairs Well With */}\r\n              <div className=\"bg-stone-50 rounded-2xl p-6 border border-stone-200\">\r\n                <h4 className=\"text-lg font-medium text-stone-900 mb-4\">Pairs Well With</h4>\r\n                <p className=\"text-sm text-stone-600 mb-4\">\r\n                  Choose products from other categories that work well with this item.\r\n                </p>\r\n                <div className=\"space-y-3\">\r\n                  {formData.pairs_well_with.map((productId, index) => (\r\n                    <div key={index} className=\"flex items-center space-x-3\">\r\n                      <input\r\n                        type=\"text\"\r\n                        value={productId}\r\n                        onChange={(e) => {\r\n                          const newPairs = [...formData.pairs_well_with];\r\n                          newPairs[index] = e.target.value;\r\n                          handleInputChange('pairs_well_with', newPairs);\r\n                        }}\r\n                        className=\"flex-1 border border-stone-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-stone-500 focus:border-transparent\"\r\n                        placeholder=\"Product ID\"\r\n                      />\r\n                          <button\r\n                        onClick={() => {\r\n                          const newPairs = formData.pairs_well_with.filter((_, i) => i !== index);\r\n                          handleInputChange('pairs_well_with', newPairs);\r\n                        }}\r\n                        className=\"text-red-600 hover:text-red-800 text-sm font-medium\"\r\n                          >\r\n                            Remove\r\n                          </button>\r\n                        </div>\r\n                  ))}\r\n                  <button\r\n                    onClick={() => {\r\n                      const newPairs = [...formData.pairs_well_with, ''];\r\n                      handleInputChange('pairs_well_with', newPairs);\r\n                    }}\r\n                    className=\"w-full px-4 py-2 border border-stone-300 text-stone-700 rounded-lg hover:bg-stone-100 transition-colors duration-200 text-sm font-medium\"\r\n                  >\r\n                    Add Product ID\r\n                  </button>\r\n                      </div>\r\n                        </div>\r\n\r\n              {/* Also Consider */}\r\n              <div className=\"bg-stone-50 rounded-2xl p-6 border border-stone-200\">\r\n                <h4 className=\"text-lg font-medium text-stone-900 mb-4\">Also Consider</h4>\r\n                <p className=\"text-sm text-stone-600 mb-4\">\r\n                  Choose alternative products in the same category and price range.\r\n                </p>\r\n                <div className=\"space-y-3\">\r\n                  {formData.also_consider.map((productId, index) => (\r\n                    <div key={index} className=\"flex items-center space-x-3\">\r\n                      <input\r\n                        type=\"text\"\r\n                        value={productId}\r\n                        onChange={(e) => {\r\n                          const newAlso = [...formData.also_consider];\r\n                          newAlso[index] = e.target.value;\r\n                          handleInputChange('also_consider', newAlso);\r\n                        }}\r\n                        className=\"flex-1 border border-stone-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-stone-500 focus:border-transparent\"\r\n                        placeholder=\"Product ID\"\r\n                      />\r\n                      <button\r\n                        onClick={() => {\r\n                          const newAlso = formData.also_consider.filter((_, i) => i !== index);\r\n                          handleInputChange('also_consider', newAlso);\r\n                        }}\r\n                        className=\"text-red-600 hover:text-red-800 text-sm font-medium\"\r\n                      >\r\n                        Remove\r\n                      </button>\r\n                    </div>\r\n                  ))}\r\n                  <button\r\n                    onClick={() => {\r\n                      const newAlso = [...formData.also_consider, ''];\r\n                      handleInputChange('also_consider', newAlso);\r\n                    }}\r\n                    className=\"w-full px-4 py-2 border border-stone-300 text-stone-700 rounded-lg hover:bg-stone-100 transition-colors duration-200 text-sm font-medium\"\r\n                  >\r\n                    Add Product ID\r\n                  </button>\r\n                </div>\r\n              </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n      {/* Action Buttons */}\r\n      <div className=\"border-t border-stone-200 bg-stone-50 px-8 py-6 flex justify-end space-x-4\">\r\n            <button\r\n          onClick={onCancel}\r\n          className=\"px-6 py-3 border border-stone-300 text-stone-700 rounded-lg hover:bg-stone-100 transition-colors duration-200 font-medium\"\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n          onClick={handleSave}\r\n              disabled={loading}\r\n          className=\"px-6 py-3 bg-stone-800 text-white rounded-lg hover:bg-stone-900 transition-colors duration-200 font-medium disabled:opacity-50\"\r\n            >\r\n          {loading ? 'Saving...' : 'Save Changes'}\r\n            </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}; ","import React, { useEffect, useState } from 'react';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport {\r\n  adminListHomeHeroImages,\r\n  createHomeHeroImage,\r\n  updateHomeHeroImage,\r\n  deleteHomeHeroImage,\r\n  uploadImage,\r\n  getImageUrl,\r\n  type HomeHeroImage,\r\n  adminGetAllProducts,\r\n  type Product,\r\n} from '../lib/supabase';\r\nimport { Section, Container, H1, Body, Grid, Button } from '../components/ui';\r\nimport { ProductForm } from '../components/ProductForm';\r\n\r\nconst Admin: React.FC = () => {\r\n  const { user } = useAuth();\r\n  const [heroItems, setHeroItems] = useState<HomeHeroImage[]>([]);\r\n  const [products, setProducts] = useState<Product[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [file, setFile] = useState<File | null>(null);\r\n  const [alt, setAlt] = useState('');\r\n  const [credit, setCredit] = useState('');\r\n  const [editingProduct, setEditingProduct] = useState<Product | null>(null);\r\n  const [activeTab, setActiveTab] = useState<'hero' | 'products'>('hero');\r\n\r\n  const refreshHeroImages = async () => {\r\n    const data = await adminListHomeHeroImages();\r\n    setHeroItems(data);\r\n  };\r\n\r\n  const refreshProducts = async () => {\r\n    const data = await adminGetAllProducts();\r\n    setProducts(data);\r\n  };\r\n\r\n  useEffect(() => {\r\n    refreshHeroImages();\r\n    refreshProducts();\r\n  }, []);\r\n\r\n  const handleUpload = async () => {\r\n    if (!file) return;\r\n    setLoading(true);\r\n    try {\r\n      const filename = `${Date.now()}-${file.name}`;\r\n      const { error: upErr } = await uploadImage(file, filename);\r\n      if (upErr) throw upErr;\r\n      const { error: insErr } = await createHomeHeroImage({\r\n        image: filename,\r\n        alt_text: alt || null as any,\r\n        credit: credit || null as any,\r\n        published: true,\r\n      } as any);\r\n      if (insErr) throw insErr;\r\n      setFile(null); setAlt(''); setCredit('');\r\n      await refreshHeroImages();\r\n    } catch (e) {\r\n      console.error('Upload failed', e);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const togglePublish = async (item: HomeHeroImage) => {\r\n    await updateHomeHeroImage(item.id, { published: !item.published } as any);\r\n    await refreshHeroImages();\r\n  };\r\n\r\n  const remove = async (id: string) => {\r\n    await deleteHomeHeroImage(id);\r\n    await refreshHeroImages();\r\n  };\r\n\r\n  const handleProductSave = () => {\r\n    setEditingProduct(null);\r\n    refreshProducts();\r\n  };\r\n\r\n  const handleProductCancel = () => {\r\n    setEditingProduct(null);\r\n  };\r\n\r\n  if (!user) {\r\n    return (\r\n      <Section variant=\"default\" background=\"white\">\r\n        <Container>\r\n          <H1 className=\"mb-4\">Admin</H1>\r\n          <Body>Please sign in to access the admin tools.</Body>\r\n        </Container>\r\n      </Section>\r\n    );\r\n  }\r\n\r\n  if (editingProduct) {\r\n    return (\r\n      <Section variant=\"default\" background=\"white\">\r\n        <Container>\r\n          <div className=\"mb-6\">\r\n            <button\r\n              onClick={handleProductCancel}\r\n              className=\"inline-flex items-center space-x-2 text-stone-600 hover:text-stone-800 mb-4\"\r\n            >\r\n              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 19l-7-7m0 0l7-7m-7 7h18\" />\r\n              </svg>\r\n              <span>Back to Admin</span>\r\n            </button>\r\n            <H1>Edit Product: {editingProduct.title}</H1>\r\n          </div>\r\n          <ProductForm\r\n            product={editingProduct}\r\n            onSave={handleProductSave}\r\n            onCancel={handleProductCancel}\r\n          />\r\n        </Container>\r\n      </Section>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Section variant=\"default\" background=\"white\">\r\n      <Container>\r\n        <H1 className=\"mb-6\">Admin</H1>\r\n        \r\n        {/* Tab Navigation */}\r\n        <div className=\"border-b border-stone-200 mb-8\">\r\n          <nav className=\"flex space-x-8\">\r\n            <button\r\n              onClick={() => setActiveTab('hero')}\r\n              className={`py-4 px-1 border-b-2 font-medium text-sm transition-colors duration-200 ${\r\n                activeTab === 'hero'\r\n                  ? 'border-stone-900 text-stone-900'\r\n                  : 'border-transparent text-stone-500 hover:text-stone-700 hover:border-stone-300'\r\n              }`}\r\n            >\r\n              Hero Images\r\n            </button>\r\n            <button\r\n              onClick={() => setActiveTab('products')}\r\n              className={`py-4 px-1 border-b-2 font-medium text-sm transition-colors duration-200 ${\r\n                activeTab === 'products'\r\n                  ? 'border-stone-900 text-stone-900'\r\n                  : 'border-transparent text-stone-500 hover:text-stone-700 hover:border-stone-300'\r\n              }`}\r\n            >\r\n              Products\r\n            </button>\r\n          </nav>\r\n        </div>\r\n\r\n        {activeTab === 'hero' && (\r\n          <>\r\n            <div className=\"mb-10 p-6 border rounded-xl\">\r\n              <h2 className=\"text-xl font-medium mb-4\">Upload Hero Image</h2>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 items-end\">\r\n                <div>\r\n                  <label className=\"block text-sm text-stone-600 mb-2\">File</label>\r\n                  <input type=\"file\" accept=\"image/*\" onChange={(e) => setFile(e.target.files?.[0] || null)} />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm text-stone-600 mb-2\">Alt text</label>\r\n                  <input className=\"w-full border rounded-md px-3 py-2\" value={alt} onChange={(e) => setAlt(e.target.value)} />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm text-stone-600 mb-2\">Credit</label>\r\n                  <input className=\"w-full border rounded-md px-3 py-2\" value={credit} onChange={(e) => setCredit(e.target.value)} />\r\n                </div>\r\n                <div>\r\n                  <button onClick={handleUpload} disabled={loading || !file} className=\"btn-primary disabled:opacity-50\">{loading ? 'Uploading‚Ä¶' : 'Upload'}</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <h2 className=\"text-xl font-medium mb-4\">Home Hero Images</h2>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n              {heroItems.map((it) => (\r\n                <div key={it.id} className=\"border rounded-xl overflow-hidden\">\r\n                  <div className=\"aspect-[16/9] bg-stone-100\">\r\n                    {it.image && (\r\n                      <img src={getImageUrl(it.image)} alt={it.alt_text || ''} className=\"w-full h-full object-cover\" />\r\n                    )}\r\n                  </div>\r\n                  <div className=\"p-4 space-y-2\">\r\n                    <div className=\"text-sm text-stone-700 line-clamp-1\">{it.alt_text}</div>\r\n                    <div className=\"text-xs text-stone-500 line-clamp-1\">{it.credit}</div>\r\n                    <div className=\"flex gap-2 pt-2\">\r\n                      <button onClick={() => togglePublish(it)} className=\"btn-secondary\">\r\n                        {it.published ? 'Unpublish' : 'Publish'}\r\n                      </button>\r\n                      <button onClick={() => remove(it.id)} className=\"btn-secondary\">Delete</button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </>\r\n        )}\r\n\r\n        {activeTab === 'products' && (\r\n          <>\r\n            <h2 className=\"text-xl font-medium mb-4\">Product Management</h2>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n              {products.map((product) => (\r\n                <div key={product.id} className=\"border rounded-xl overflow-hidden bg-white shadow-sm\">\r\n                  <div className=\"aspect-[16/9] bg-stone-100\">\r\n                    {product.product_hero_image && (\r\n                      <img \r\n                        src={`https://myrdvcihcqphixvunvkv.supabase.co/storage/v1/object/public/images/${product.product_hero_image}`} \r\n                        alt={product.title} \r\n                        className=\"w-full h-full object-cover\" \r\n                      />\r\n                    )}\r\n                  </div>\r\n                  <div className=\"p-4 space-y-3\">\r\n                    <div>\r\n                      <h3 className=\"font-medium text-stone-900 line-clamp-2\">{product.title}</h3>\r\n                      <p className=\"text-sm text-stone-500\">\r\n                        {product.manufacturer?.name} ‚Ä¢ {product.categories?.name}\r\n                      </p>\r\n                    </div>\r\n                    \r\n                    <div className=\"flex items-center justify-between text-sm\">\r\n                      <span className={`px-2 py-1 rounded-full text-xs font-medium ${\r\n                        product.published \r\n                          ? 'bg-green-100 text-green-800' \r\n                          : 'bg-yellow-100 text-yellow-800'\r\n                      }`}>\r\n                        {product.published ? 'Published' : 'Draft'}\r\n                      </span>\r\n                      {product.show_price && product.price && (\r\n                        <span className=\"text-stone-700 font-medium\">\r\n                          ${product.price.toLocaleString()}\r\n                        </span>\r\n                      )}\r\n                    </div>\r\n                    \r\n                    <div className=\"flex gap-2 pt-2\">\r\n                      <button \r\n                        onClick={() => setEditingProduct(product)}\r\n                        className=\"flex-1 btn-primary text-sm\"\r\n                      >\r\n                        Edit\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </>\r\n        )}\r\n      </Container>\r\n    </Section>\r\n  );\r\n};\r\n\r\nexport default Admin;\r\n\r\n\r\n"],"names":["ProductForm","product","onSave","onCancel","formData","setFormData","useState","reviews","setReviews","categories","setCategories","manufacturers","setManufacturers","loading","setLoading","activeTab","setActiveTab","useEffect","parsed","categoriesData","manufacturersData","getProductCategories","getManufacturers","handleInputChange","field","value","prev","addReview","newReview","updateReview","index","review","i","removeReview","_","handleSave","updateData","updateProduct","error","tabs","jsxs","jsx","tab","e","productId","newPairs","newAlso","Admin","user","useAuth","heroItems","setHeroItems","products","setProducts","file","setFile","alt","setAlt","credit","setCredit","editingProduct","setEditingProduct","refreshHeroImages","data","adminListHomeHeroImages","refreshProducts","adminGetAllProducts","handleUpload","filename","upErr","uploadImage","insErr","createHomeHeroImage","togglePublish","item","updateHomeHeroImage","remove","id","deleteHomeHeroImage","handleProductSave","handleProductCancel","Section","Container","H1","Fragment","it","getImageUrl","Body"],"mappings":"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"}